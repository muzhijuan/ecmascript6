<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>06_箭头函数</title>

</head>
<body>
    <button id="btn1">测试箭头函数this_1</button>
    <button id="btn2">测试箭头函数this_2</button>


<!--
* 作用: 定义匿名函数
* 基本语法:
  * 没有参数: () => console.log('xxxx')
  * 一个参数: i => i+2
  * 大于一个参数: (i,j) => i+j
  * 函数体不用大括号: 默认返回结果
  * 函数体如果有多个语句, 需要用{}包围，若有需要返回的内容，需要手动返回
* 使用场景: 多用来定义回调函数

* 箭头函数的特点：
    1、简洁
    2、箭头函数没有自己的this，箭头函数的this不是调用的时候决定的，而是在定义的时候处在的对象就是它的this
    3、扩展理解： 箭头函数的this看外层的是否有函数，
        如果有，外层函数的this就是内部箭头函数的this，
        如果没有，则this是window。
-->
<script type="text/javascript">

   // 只有一个形参， 并且函数体只有一条语句， 需要return  括号可以省略
    function fn(a) {
        return a
    }
    let fn1 = (a) => a
   console.log(fn(1), fn1(1))
    
    // 多个参数， 并且函数体只有一条语句， 需要return
    function fn2(a, b) {
        return a + b
    }

    let fn3 = (a, b) =>  a + b
    console.log(fn2(2, 3), fn3(2, 3))

   // 没有形参， 并且函数体有多条语句， 如果需要return ,手动return
    function fn4() {
        let i = 1
        console.log(i)
        return i
    }

    let fn5 = () => {
        let i = 1
        console.log(i)
        return i
    }



    // 多用来定义回调函数
     setTimeout(() => {
         console.log(this)
     }, 1000)


    document.getElementById('btn1').onclick = function () {
        console.log(this)   //  button
    }

    document.getElementById('btn2').onclick = () => {
        console.log(this)  // window  没有自己的this
    }

</script>

</body>
</html>