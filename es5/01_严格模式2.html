 <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>01_严格模式</title>
</head>
<body>
<!--
1. 理解:
  * 除了正常运行模式(混杂模式)，ES5添加了第二种运行模式："严格模式"（strict mode）。
  * 顾名思义，这种模式使得Javascript在更严格的语法条件下运行
2.  目的/作用
	* 消除Javascript语法的一些不合理、不严谨之处，减少一些怪异行为
	* 消除代码运行的一些不安全之处，为代码的安全运行保驾护航
	* 为未来新版本的Javascript做好铺垫
3. 使用
  * 在全局或函数的第一条语句定义为: 'use strict';
  * 如果浏览器不支持, 只解析为一条简单的语句, 没有任何副作用
4. 语法和行为改变
	* 必须用var声明变量
	* 禁止自定义的函数中的this指向window
	* 创建eval作用域
	* 对象不能有重名的属性
-->

<script type="text/javascript">
   'use strict'
  // 禁止自定义的函数中的this指向window

  function Person(name, age) {
    // this = {}
    this.name = name  // this : 创建的实例对象
    this.age = age
    // return this
  }


  // 给构造函数的原型添加方法， 那么它的实例会自动拥有该方法
  Person.prototype.test = function () {
    console.log('test()')
  }
/*
  Person('tom', 12)
  console.log(name, age)*/

  var p = new Person('tom', 12)
  console.log(p.name, p.age)
  p.test()

  /*
  * 面试题：new的时候具体做了什么？
  * 1. 创建一个新的对象，this变量引用该对象，同时还继承了该函数的原型
  * 2. 属性和方法都被添加到this 引用的对象中去
  * 3. 新创建的对象由this所引用，并且最后隐式的返回this
  * */


  // 创建eval作用域

  var b = 'abc'
  eval('var b = 4')  // 正常模式：数据不安全   严格模式：数据是安全的 会创建eval作用域
  alert(b)


  // 对象不能有重名的属性

//  var obj = {
//    name: 'tom',
//    name: 'bob'
//  }

  console.log(obj.name)


</script>

</body>
</html>